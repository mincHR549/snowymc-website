@tailwind base;
@tailwind components;
@tailwind utilities;

/* 动态渐变动画 */
@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* 光晕浮动动画（老版兼容） */
@keyframes float {
  0%,100% { transform: translate3d(0,0,0); }
  50% { transform: translate3d(12px,-12px,0); }
}

/* 柔和流动渐变动画（新版） */
@keyframes gradient-smooth {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* 呼吸漂浮动画（新版） */
@keyframes float-breath {
  0%, 100% { transform: translate3d(0, 0, 0); opacity: 0.8; }
  50% { transform: translate3d(0, -15px, 0); opacity: 1; }
}

/* Tailwind 动画类扩展 */
.animate-gradient {
  animation: gradient 16s ease-in-out infinite;
  background-size: 400% 400%;
  will-change: background-position;
}
.bg-400% { background-size: 400% 400%; }

.animate-float {
  animation: float 10s ease-in-out infinite;
  will-change: transform;
}

.animate-gradient-smooth {
  animation: gradient-smooth 20s ease-in-out infinite;
  will-change: background-position;
}

.animate-float-breath {
  animation: float-breath 8s ease-in-out infinite;
  will-change: transform, opacity;
}

@media (max-width: 768px) {
  .animate-gradient-smooth {
    animation-duration: 30s; /* 慢速渐变，节省性能 */
  }
  .animate-float-breath {
    animation-duration: 12s; /* 减慢呼吸节奏 */
  }
}


/* 页面全高布局支持 */
html, body, #__next {
  height: 100%;
}

/* 字体渲染优化 */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 平滑滚动与滚动条稳定 */
html {
  scroll-behavior: smooth;
  overflow-y: scroll;
}

:root {
  --sel-bg: rgba(0, 0, 0, 0.12);
  --sel-fg: #000;
}
.dark :root {
  --sel-bg: rgba(255, 255, 255, 0.16);
  --sel-fg: #fff;
}
::selection {
  background: var(--sel-bg);
  color: var(--sel-fg);
}

.content-surface {
  backdrop-filter: saturate(130%) contrast(105%) blur(1px);
  -webkit-backdrop-filter: saturate(130%) contrast(105%) blur(1px);
}

/* 柔化版模糊（性能优化） */
.blur-soft {
  filter: blur(80px);
}

@layer components {
  .timeline-card {
    @apply rounded-2xl px-6 py-4
           bg-white/78 dark:bg-white/[0.06]
           border border-black/5 dark:border-white/10
           shadow-[0_1px_0_rgba(0,0,0,0.06),0_12px_28px_rgba(0,0,0,0.08)]
           transition-transform duration-150 ease-[0.22,1,0.36,1];
  }
  .timeline-card:hover {
    @apply -translate-y-[2px] shadow-[0_1px_0_rgba(0,0,0,0.06),0_16px_40px_rgba(0,0,0,0.12)];
  }
  .timeline-title {
    @apply font-semibold text-neutral-900 dark:text-white tracking-tight;
  }
  .timeline-desc {
    @apply mt-1 text-neutral-700 dark:text-neutral-300 leading-relaxed;
  }
  .timeline-node {
    @apply w-5 h-5 md:w-6 md:h-6 rounded-full bg-white dark:bg-[#0d0f10]
           border border-black/10 dark:border-white/15
           shadow-[0_6px_18px_rgba(0,0,0,0.12)];
    position: relative;
  }
  .timeline-node-inner {
    @apply absolute inset-[4px] md:inset-[5px] rounded-full
           bg-gradient-to-b from-neutral-200 to-neutral-300
           dark:from-[#151718] dark:to-[#1a1d1f];
    /* 轻内发光，用 box-shadow 模拟真实光线 */
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.7), inset 0 -1px 0 rgba(0,0,0,0.18);
  }
}

/* 推荐：在你已有的 globals.css 末尾补充 */

/* 统一动效曲线 */
.ease-smooth {
  transition-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
}

/* 移动端动画降频 */
@media (max-width: 768px) {
  .animate-gradient-smooth {
    animation-duration: 40s;
  }
}

/* 字体栈：系统优先（SF 系） */
:root {
  --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
               Roboto, "Helvetica Neue", Arial, Inter, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}
html, body {
  font-family: var(--font-sans);
}

/* 选择态更克制 */
:root {
  --sel-bg: rgba(0, 0, 0, 0.08);
  --sel-fg: #000;
}
.dark :root {
  --sel-bg: rgba(255, 255, 255, 0.12);
  --sel-fg: #fff;
}
::selection {
  background: var(--sel-bg);
  color: var(--sel-fg);
}
